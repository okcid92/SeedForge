{% extends "base.html" %}

{% block header %}Param\u00e8tres{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <form method="POST" class="space-y-8">
        <!-- Startup Section -->
        <section class="bg-slate-900/50 rounded-xl border border-primary/10 p-6">
            <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
                <span class="material-symbols-outlined text-primary">power_settings_new</span>
                D\u00e9marrage
            </h3>
            <div class="space-y-4">
                <label class="flex items-center justify-between p-4 bg-white/5 rounded-lg cursor-pointer hover:bg-white/10 transition-colors">
                    <div>
                        <p class="font-semibold">D\u00e9marrer au boot</p>
                        <p class="text-sm text-slate-400">Lancer automatiquement au d\u00e9marrage</p>
                    </div>
                    <input type="checkbox" name="start_on_boot" {% if settings.start_on_boot %}checked{% endif %} class="w-11 h-6 bg-slate-700 rounded-full peer-checked:bg-primary">
                </label>
                <label class="flex items-center justify-between p-4 bg-white/5 rounded-lg cursor-pointer hover:bg-white/10 transition-colors">
                    <div>
                        <p class="font-semibold">Minimiser dans la barre</p>
                        <p class="text-sm text-slate-400">Continuer en arri\u00e8re-plan</p>
                    </div>
                    <input type="checkbox" name="minimize_to_tray" {% if settings.minimize_to_tray %}checked{% endif %} class="w-11 h-6 bg-slate-700 rounded-full">
                </label>
            </div>
        </section>

        <!-- Connection Section -->
        <section class="bg-slate-900/50 rounded-xl border border-primary/10 p-6">
            <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
                <span class="material-symbols-outlined text-primary">router</span>
                Connexion
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-slate-400 mb-2">Port d'entr\u00e9e</label>
                    <input type="number" name="incoming_port" value="{{ settings.incoming_port }}" class="w-full bg-slate-800 border-slate-700 rounded-lg text-white">
                </div>
                <div class="flex items-end">
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="enable_upnp" {% if settings.enable_upnp %}checked{% endif %} class="rounded border-slate-700 text-primary">
                        <span class="text-sm">Activer UPnP</span>
                    </label>
                </div>
            </div>
        </section>

        <!-- Bandwidth Section -->
        <section class="bg-slate-900/50 rounded-xl border border-primary/10 p-6">
            <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
                <span class="material-symbols-outlined text-primary">speed</span>
                Bande passante
            </h3>
            <div class="space-y-6">
                <div>
                    <div class="flex justify-between mb-2">
                        <label class="text-sm font-medium">T\u00e9l\u00e9chargement max (KB/s)</label>
                        <span class="text-primary font-bold">{{ settings.max_download_rate or 'Illimit\u00e9' }}</span>
                    </div>
                    <input type="range" name="max_download_rate" min="0" max="10000" step="100" value="{{ settings.max_download_rate }}" class="w-full">
                </div>
                <div>
                    <div class="flex justify-between mb-2">
                        <label class="text-sm font-medium">Upload max (KB/s)</label>
                        <span class="text-primary font-bold">{{ settings.max_upload_rate or 'Illimit\u00e9' }}</span>
                    </div>
                    <input type="range" name="max_upload_rate" min="0" max="5000" step="50" value="{{ settings.max_upload_rate }}" class="w-full">
                </div>
            </div>
        </section>

        <!-- Downloads Section -->
        <section class="bg-slate-900/50 rounded-xl border border-primary/10 p-6">
            <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
                <span class="material-symbols-outlined text-primary">folder</span>
                T\u00e9l\u00e9chargements
            </h3>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-slate-400 mb-2">Dossier par d\u00e9faut</label>
                    <input type="text" name="download_path" value="{{ settings.download_path }}" class="w-full bg-slate-800 border-slate-700 rounded-lg text-white">
                </div>
                <label class="flex items-center gap-2 cursor-pointer">
                    <input type="checkbox" name="preallocate_files" {% if settings.preallocate_files %}checked{% endif %} class="rounded border-slate-700 text-primary">
                    <span class="text-sm">Pr\u00e9-allouer les fichiers</span>
                </label>
            </div>
        </section>

        <!-- Actions -->
        <div class="flex justify-end gap-3">
            <a href="{{ url_for('main.index') }}" class="px-6 py-2 bg-slate-800 rounded-lg hover:bg-slate-700 transition-colors">Annuler</a>
            <button type="submit" class="px-6 py-2 bg-primary rounded-lg hover:bg-primary/90 transition-colors font-bold">Sauvegarder</button>
        </div>
    </form>
</div>
{% endblock %}
